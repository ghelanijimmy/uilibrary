import {
	Meta,
	Story,
	Canvas,
	ArgsTable,
	Source,
	ColorPalette,
	ColorItem,
	Description,
} from "@storybook/addon-docs/blocks";
import Button from "../Button";
import {colorStyles, sizes} from "../../../constants/constants";
import dedent from "ts-dedent";

export const PRIMARY = colorStyles.PRIMARY;
export const SECONDARY = colorStyles.SECONDARY;
export const DEFAULT = colorStyles.DEFAULT;
export const SM = sizes.SM;
export const MD = sizes.MD;
export const LG = sizes.LG;
export const XL = sizes.XL;

<Meta
  title="Button/MDX"
  component={Button}
  argTypes={{
    text: {
      name: "text",
      type: "string",
      control: "text",
      description: "Button Text",
	    defaultValue: "default button text",
      table: {
        type: {
          summary: "Button Text",
          detail: "String that goes inside button",
        },
        defaultValue: {
          summary: "Default Button Text",
        },
      },
    },
    type: {
      name: "type",
      control: {
        type: "inline-radio",
        options: [DEFAULT, PRIMARY, SECONDARY],
      },
	    defaultValue: DEFAULT,
      description: "Button Type",
      table: {
        type: {
          summary: "Render Button Type",
          detail: "Render Primary, Secondary or Default Button",
        },
        defaultValue: {
          summary: DEFAULT,
        },
      },
    },
	  size: {
		  name: "size",
		  control: {
			  type: 'inline-radio',
			  options: [SM, MD, LG, XL]
		  },
		  defaultValue: MD,
		  description: "Button size",
		  table: {
			  type: {
				  summary: "Button size",
				  detail: "Button padding changes size of button"
			  },
			  defaultValue: {
				  summary: MD
			  }
		  }
	  },
	  isFullWidth: {
		  name: 'isFullWidth',
		  control: {
			  type: 'boolean'
		  },
		  defaultValue: false,
		  description: "Make button full width to parent container",
		  table: {
			  type: {
				  summary: "Make button full width to parent container",
				  detail: "Either inline or full width button"
			  },
			  defaultValue: false
		  }
	  },
	  asAnchor: {
		  name: 'asAnchor',
		  control: 'boolean',
		  defaultValue: false,
		  description: 'Render button as Anchor tag',
		  table: {
			  type: {
				  summary: "Render as button",
				  detail: "Use styled-components 'as' prop to render button as anchoor"
			  },
			  defaultValue: false
		  }
	  },
	  link: {
		  name: 'link',
		  control: 'text',
		  defaultValue: '',
		  description: "HREF for button rendered as anchor",
		  table: {
			  type: {
				  summary: "HREF for anchor",
				  detail: "If button is rendered as anchor, href attribute will be set"
			  },
			  defaultValue: ''
		  }
	  }
  }}
/>

# Button
### Outside of `Description` tag
<Description markdown={dedent`
	<p>&nbsp;</p>
	# Description inside <code>Description</code> tag
	### Some markdown
	<p>&nbsp;</p>
`} />

export const Template = ({
	text,
	type,
	size,
	isFullWidth,
	link,
	asAnchor
}) => (
	<Button
		text={text}
		type={type}
		size={size}
		isFullWidth={isFullWidth}
		link={link}
		asAnchor={asAnchor}
	/>
)

export const Default = Template.bind({});

<Preview>
	<Story name="Default Button">
		{Default}
	</Story>
</Preview>

<ArgsTable story="Default Button" />

<Source
	language='jsx'
	code={dedent`
     <Button text="default text" type={DEFAULT} />
  `}
/>

# Button Variations

<Canvas>
	<Story name="Default XL" args={{text: SECONDARY, type: DEFAULT, size: XL}}>
		{Template.bind({})}
	</Story>
	<Story name="Primary LG" args={{text: PRIMARY, type: PRIMARY, size: LG}}>
		{Template.bind({})}
	</Story>
	<Story name="Secondary SM" args={{text: SECONDARY, type: SECONDARY, size: SM}}>
		{Template.bind({})}
	</Story>
</Canvas>

## Our Color palette
<p>&nbsp;</p>

<ColorPalette>
	<ColorItem
		title="Button BG Colors"
		subtitle="Default state"
		colors={[
			'#fff',
			'#a00000',
			'#0255d7'
		]} />
	<ColorItem
		title="Button BG Colors"
		subtitle="Hover state"
		colors={[
			'#333',
			'#ba1e1e',
			'#1d6de2'
		]} />
</ColorPalette>